FROM registry.access.redhat.com/ubi8/ubi-minimal

SHELL ["/bin/bash", "-o", "pipefail", "-c"]

ENV PYTHONUNBUFFERED=1 \
    PYTHONIOENCODING=UTF-8 \
    PIP_NO_CACHE_DIR=off

RUN microdnf install -y python38 tar

# Add scripts
COPY build/package/scripts/build-python.sh /usr/local/bin/build-python
RUN chmod +x /usr/local/bin/build-python

USER 1001