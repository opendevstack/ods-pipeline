// Document generated by internal/documentation/tasks.go from template.adoc.tmpl; DO NOT EDIT.

= ods-build-go

Builds Go (module) applications.

The following steps are executed:

- check proper formatting against gofmt
- linting using golangci-lint
- build (using `go-os` and `go-arch` parameters)
- test execution

Tests exclude the vendor directory. Test results are converted into xUnit format.

Both xUnit report and coverage report are placed into .ods/artifacts.

After tests ran successfully, the application source code is scanned by SonarQube.
When `sonar-quality-gate` is set to `true`, the task will fail if the quality gate
is not passed. If SonarQube is not desired, it can be disabled via `sonar-skip`.
The SonarQube scan will include parameters to perform a pull request analysis if
there is an open pull request for the branch being built. Pull request decoration
in Bitbucket is done automatically by SonarQube provided the ALM integration is setup
properly in SonarQube.


== Parameters

[cols="1,1,2"]
|===
| Parameter | Default | Description


| enable-cgo
| false
| Whether to enable CGO. When not enabled the build will set `CGO_ENABLED=0`.


| go-os
| linux
| `GOOS` variable (the execution operating system such as `linux`, `windows`).


| go-arch
| amd64
| `GOARCH` variable (the execution architecture such as `arm`, `amd64`).


| docker-dir
| docker
| Path to the directory to use as Docker context. The resulting Go binary will be copied there.


| sonar-quality-gate
| false
| Whether the SonarQube quality gate needs to pass for the task to succeed.


| sonar-skip
| false
| Whether to skip SonarQube analysis or not.

|===
